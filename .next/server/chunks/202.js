"use strict";exports.id=202,exports.ids=[202],exports.modules={2900:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},1952:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5197:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4672:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},1565:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4119:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},718:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(1462).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1027:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{C:()=>l});var r=i(997);i(6689);var a=i(6926),o=i(3917),s=e([a,o]);[a,o]=s.then?(await s)():s;let c=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...i}){return r.jsx("div",{className:(0,o.cn)(c({variant:t}),e),...i})}n()}catch(e){n(e)}})},2417:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{z:()=>m});var r=i(997),a=i(6689),o=i(4338),s=i(6926),l=i(3917),c=e([o,s,l]);[o,s,l]=c.then?(await c)():c;let u=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=a.forwardRef(({className:e,variant:t,size:i,asChild:n=!1,...a},s)=>{let c=n?o.Slot:"button";return r.jsx(c,{className:(0,l.cn)(u({variant:t,size:i,className:e})),ref:s,...a})});m.displayName="Button",n()}catch(e){n(e)}})},1064:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Ol:()=>c,SZ:()=>m,Zb:()=>l,aY:()=>d,ll:()=>u});var r=i(997),a=i(6689),o=i(3917),s=e([o]);o=(s.then?(await s)():s)[0];let l=a.forwardRef(({className:e,...t},i)=>r.jsx("div",{ref:i,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let c=a.forwardRef(({className:e,...t},i)=>r.jsx("div",{ref:i,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));c.displayName="CardHeader";let u=a.forwardRef(({className:e,...t},i)=>r.jsx("h3",{ref:i,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));u.displayName="CardTitle";let m=a.forwardRef(({className:e,...t},i)=>r.jsx("p",{ref:i,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));m.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},i)=>r.jsx("div",{ref:i,className:(0,o.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},i)=>r.jsx("div",{ref:i,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",n()}catch(e){n(e)}})},8501:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{I:()=>l});var r=i(997),a=i(6689),o=i(3917),s=e([o]);o=(s.then?(await s)():s)[0];let l=a.forwardRef(({className:e,type:t,...i},n)=>r.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...i}));l.displayName="Input",n()}catch(e){n(e)}})},6661:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{GW:()=>m,YW:()=>d});var r=i(9926),a=i(8384),o=i(708),s=i(4202),l=i(8357),c=i(2066),u=e([r,o,s,l,c]);[r,o,s,l,c]=u.then?(await u)():u;class m extends a.e{constructor(){super(),this.configs=new Map,this.environment=this.detectEnvironment(),this.initialize()}initialize(){this.registerApi(o.IK),this.registerApi(s.SU),this.registerApi(l.u),this.registerApi(c.t)}cleanup(){this.configs.clear(),console.log("\uD83E\uDDF9 API Registry cleaned up")}detectEnvironment(){return"production"}registerApi(e){this.configs.set(e.name,e)}getApiConfig(e){return this.configs.get(e)||null}getApiConfigByType(e){for(let t of Array.from(this.configs.values())){let i=t.type?.toLowerCase().trim(),n=e?.toLowerCase().trim();if(i===n)return t}console.log(`❌ DEBUG: No config found for type "${e}"`),console.log("❌ DEBUG: Available types:",Array.from(this.configs.values()).map(e=>`"${e.type}"`));let t=Array.from(this.configs.values()).map(e=>e.type?.toLowerCase().trim()),i=e?.toLowerCase().trim(),n=t.filter(e=>e&&e.includes(i));return n.length>0&&console.log("\uD83D\uDCA1 DEBUG: Did you mean one of these types?",n),null}getAllConfigs(){return Array.from(this.configs.values())}getConfigsByType(e){return Array.from(this.configs.values()).filter(t=>t.type===e)}validateConfig(e){try{if(!e.name||!e.baseUrl)return!1;return e.environment!==this.environment&&console.warn(`Config ${e.name} is for ${e.environment} but current environment is ${this.environment}`),!0}catch(t){return console.error(`Validation failed for config ${e.name}:`,t),!1}}getEnvironment(){return this.environment}}let d=m.getInstance();n()}catch(e){n(e)}})},8357:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{u:()=>s});var r=i(9926),a=e([r]);let o=(r=(a.then?(await a)():a)[0]).z.object({output:r.z.array(r.z.string().url()).optional(),error:r.z.string().optional()}),s={name:"Hugging Face Inference API",type:"huggingface",baseUrl:"https://api-inference.huggingface.co",apiKey:void 0,timeout:6e4,retryAttempts:2,rateLimit:{requestsPerMinute:100,burstLimit:10},environment:"production",models:{"stabilityai/stable-diffusion-xl-base-1.0":{inputSchema:r.z.object({inputs:r.z.string().min(1,"Prompt is required"),parameters:r.z.object({negative_prompt:r.z.string().optional(),num_inference_steps:r.z.number().int().min(1).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),width:r.z.number().int().min(64).max(1024).default(1024),height:r.z.number().int().min(64).max(1024).default(1024),seed:r.z.number().int().optional()}).optional()}),outputSchema:o,defaultParams:{parameters:{num_inference_steps:20,guidance_scale:7.5,width:1024,height:1024}},description:"Stable Diffusion XL base model for high-quality image generation",category:"text-to-image",status:"working"},"black-forest-labs/FLUX.1-schnell":{inputSchema:r.z.object({inputs:r.z.string().min(1,"Prompt is required"),parameters:r.z.object({num_inference_steps:r.z.number().int().min(1).max(4).default(4),guidance_scale:r.z.number().min(0).max(10).default(0),width:r.z.number().int().min(256).max(1440).default(1024),height:r.z.number().int().min(256).max(1440).default(1024),seed:r.z.number().int().optional()}).optional()}),outputSchema:o,defaultParams:{parameters:{num_inference_steps:4,guidance_scale:0,width:1024,height:1024}},description:"FLUX.1 Schnell - Fast high-quality image generation",category:"text-to-image",status:"working"},"stabilityai/stable-diffusion-2-1":{inputSchema:r.z.object({inputs:r.z.string().min(1,"Prompt is required"),parameters:r.z.object({negative_prompt:r.z.string().optional(),num_inference_steps:r.z.number().int().min(1).max(50).default(50),guidance_scale:r.z.number().min(1).max(20).default(7.5),width:r.z.number().int().min(64).max(768).default(768),height:r.z.number().int().min(64).max(768).default(768),seed:r.z.number().int().optional()}).optional()}),outputSchema:o,defaultParams:{parameters:{num_inference_steps:50,guidance_scale:7.5,width:768,height:768}},description:"Stable Diffusion 2.1 for versatile image generation",category:"text-to-image",status:"working"}}};n()}catch(e){n(e)}})},2066:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{t:()=>l});var r=i(9926),a=e([r]);let o=(r=(a.then?(await a)():a)[0]).z.object({input:r.z.union([r.z.string().min(1,"Input text is required"),r.z.array(r.z.string().min(1)).min(1,"At least one input text is required")]),model:r.z.string().min(1,"Model is required"),encoding_format:r.z.enum(["float","base64"]).optional().default("float"),dimensions:r.z.number().int().min(1).optional(),user:r.z.string().optional()}),s=r.z.object({object:r.z.literal("list"),data:r.z.array(r.z.object({object:r.z.literal("embedding"),index:r.z.number().int(),embedding:r.z.array(r.z.number())})),model:r.z.string(),usage:r.z.object({prompt_tokens:r.z.number().int(),total_tokens:r.z.number().int()})}),l={name:"OpenAI API",type:"openai",baseUrl:"https://api.openai.com/v1",apiKey:void 0,timeout:3e4,retryAttempts:3,rateLimit:{requestsPerMinute:3e3,burstLimit:100},environment:"production",models:{"text-embedding-3-small":{maxTokens:8191,inputSchema:o,outputSchema:s,costPerToken:2e-5,defaultParams:{model:"text-embedding-3-small",encoding_format:"float",dimensions:512},description:"OpenAI text-embedding-3-small model with 512 dimensions",category:"text-embedding",status:"working",dimensions:512},"text-embedding-3-large":{maxTokens:8191,inputSchema:o,outputSchema:s,costPerToken:13e-5,defaultParams:{model:"text-embedding-3-large",encoding_format:"float",dimensions:768},description:"OpenAI text-embedding-3-large model with 768 dimensions - high performance",category:"text-embedding",status:"working",dimensions:768},"text-embedding-3-large-full":{maxTokens:8191,inputSchema:o,outputSchema:s,costPerToken:13e-5,defaultParams:{model:"text-embedding-3-large",encoding_format:"float",dimensions:3072},description:"OpenAI text-embedding-3-large model with full 3072 dimensions - maximum performance",category:"text-embedding",status:"working",dimensions:3072},"text-embedding-ada-002":{maxTokens:8191,inputSchema:o,outputSchema:s,costPerToken:1e-4,defaultParams:{model:"text-embedding-ada-002",encoding_format:"float"},description:"OpenAI text-embedding-ada-002 model (legacy) - 1536 dimensions",category:"text-embedding",status:"working",dimensions:1536}}};n()}catch(e){n(e)}})},708:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{IK:()=>d,ZP:()=>g});var r=i(9926),a=e([r]);let o=(r=(a.then?(await a)():a)[0]).z.object({prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),width:r.z.number().int().min(64).max(2048).optional(),height:r.z.number().int().min(64).max(2048).optional(),num_inference_steps:r.z.number().int().min(1).max(100).optional(),guidance_scale:r.z.number().min(0).max(20).optional(),seed:r.z.number().int().optional()}),s=r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),room_type:r.z.enum(["Living room","Dining room","Bedroom","Bathroom","Kitchen","Reading room","Home office"]).optional(),style:r.z.enum(["Modern","Minimalist","Contemporary","Transitional","Traditional","Rustic","Industrial"]).optional(),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7),seed:r.z.number().int().optional()}),l=r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),strength:r.z.number().min(0).max(1).default(.8),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),seed:r.z.number().int().optional()}),c=r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),room_type:r.z.string().optional(),design_style:r.z.string().optional(),color_scheme:r.z.string().optional(),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),strength:r.z.number().min(0).max(1).default(.8),seed:r.z.number().int().optional()}),u=r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),room_type:r.z.enum(["living_room","bedroom","kitchen","bathroom","dining_room","office","outdoor"]).optional(),design_style:r.z.enum(["modern","traditional","minimalist","rustic","industrial","scandinavian","bohemian"]).optional(),num_inference_steps:r.z.number().int().min(10).max(50).default(25),guidance_scale:r.z.number().min(1).max(20).default(7.5),strength:r.z.number().min(0).max(1).default(.75),seed:r.z.number().int().optional()}),m=r.z.object({output:r.z.array(r.z.string().url()).optional(),error:r.z.string().optional()}),d={name:"replicate",type:"replicate",baseUrl:"https://api.replicate.com/v1",apiKey:"",timeout:3e5,retryAttempts:3,rateLimit:{requestsPerMinute:60,burstLimit:10},environment:"development",models:{"erayyavuz/interior-ai":{version:"latest",inputSchema:s,outputSchema:m,defaultParams:{num_inference_steps:20,guidance_scale:7},description:"AI-powered interior design transformation",category:"interior-design"},"jschoormans/comfyui-interior-remodel":{version:"latest",inputSchema:l,outputSchema:m,defaultParams:{strength:.8,num_inference_steps:20,guidance_scale:7.5},description:"ComfyUI-based interior remodeling",category:"interior-design"},"jschoormans/interior-v2":{version:"latest",inputSchema:c,outputSchema:m,defaultParams:{num_inference_steps:20,guidance_scale:7.5,strength:.8},description:"Advanced interior design transformation v2",category:"interior-design"},"julian-at/interiorly-gen1-dev":{version:"latest",inputSchema:u,outputSchema:m,defaultParams:{num_inference_steps:25,guidance_scale:7.5,strength:.75},description:"Interiorly generation model v1 development",category:"interior-design"},"stability-ai/stable-diffusion":{version:"latest",inputSchema:o,outputSchema:m,defaultParams:{width:512,height:512,num_inference_steps:20,guidance_scale:7.5},description:"Stable Diffusion text-to-image generation",category:"text-to-image"},"runwayml/stable-diffusion-v1-5":{version:"latest",inputSchema:o,outputSchema:m,defaultParams:{width:512,height:512,num_inference_steps:20,guidance_scale:7.5},description:"Stable Diffusion v1.5 text-to-image generation",category:"text-to-image"},"threestudio-project/threestudio":{version:"latest",inputSchema:r.z.object({prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),guidance_scale:r.z.number().min(1).max(20).default(7.5),num_inference_steps:r.z.number().int().min(10).max(100).default(50),seed:r.z.number().int().optional()}),outputSchema:r.z.object({output:r.z.object({mesh:r.z.string().url().optional(),video:r.z.string().url().optional(),images:r.z.array(r.z.string().url()).optional()}).optional(),error:r.z.string().optional()}),defaultParams:{guidance_scale:7.5,num_inference_steps:50},description:"3D object generation from text",category:"3d-generation"},"adirik/interior-design":{version:"latest",inputSchema:r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),strength:r.z.number().min(0).max(1).default(.8),seed:r.z.number().int().optional()}),outputSchema:m,defaultParams:{num_inference_steps:20,guidance_scale:7.5,strength:.8},description:"Interior design AI transformation",category:"interior-design",status:"failing"},"davisbrown/designer-architecture":{version:"latest",inputSchema:r.z.object({prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),width:r.z.number().int().min(64).max(2048).default(512),height:r.z.number().int().min(64).max(2048).default(512),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),seed:r.z.number().int().optional()}),outputSchema:m,defaultParams:{width:512,height:512,num_inference_steps:20,guidance_scale:7.5},description:"Designer architecture generation",category:"architecture",status:"working"},"rocketdigitalai/interior-design-sdxl":{version:"latest",inputSchema:r.z.object({image:r.z.string().url("Image URL is required"),prompt:r.z.string().min(1,"Prompt is required"),negative_prompt:r.z.string().optional(),num_inference_steps:r.z.number().int().min(10).max(50).default(20),guidance_scale:r.z.number().min(1).max(20).default(7.5),strength:r.z.number().min(0).max(1).default(.8),seed:r.z.number().int().optional()}),outputSchema:m,defaultParams:{num_inference_steps:20,guidance_scale:7.5,strength:.8},description:"Interior design with SDXL",category:"interior-design",status:"failing"}}},g=d;n()}catch(e){n(e)}})},4202:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{HG:()=>z,SU:()=>b,ZP:()=>y});var r=i(9926),a=e([r]);let o=(r=(a.then?(await a)():a)[0]).z.object({error:r.z.string(),details:r.z.string().optional(),hint:r.z.string().optional(),code:r.z.string().optional()}),s=r.z.object({functionName:r.z.string(),data:r.z.object({prompt:r.z.string().min(1,"Prompt is required"),models:r.z.array(r.z.string()).min(1,"At least one model is required"),user_id:r.z.string().optional(),image_url:r.z.string().url("Please enter a valid URL").optional(),room_type:r.z.string().optional(),style:r.z.string().optional(),num_inference_steps:r.z.number().optional(),guidance_scale:r.z.number().optional(),strength:r.z.number().optional(),seed:r.z.number().optional(),negative_prompt:r.z.string().optional(),width:r.z.number().optional(),height:r.z.number().optional()})}),l=r.z.union([r.z.object({success:r.z.literal(!0),images:r.z.array(r.z.string().url()),metadata:r.z.object({model:r.z.string(),prompt:r.z.string(),parameters:r.z.record(r.z.string(),r.z.any()),generation_time:r.z.number().optional()})}),r.z.object({success:r.z.literal(!1),error:r.z.string(),details:r.z.string().optional()})]),c=r.z.object({query:r.z.string().min(1,"Query is required"),collection_name:r.z.string().optional(),limit:r.z.number().optional(),threshold:r.z.number().optional(),include_metadata:r.z.boolean().optional(),filters:r.z.record(r.z.string(),r.z.any()).optional()}),u=r.z.union([r.z.object({success:r.z.literal(!0),results:r.z.array(r.z.object({content:r.z.string(),metadata:r.z.record(r.z.string(),r.z.any()),score:r.z.number(),id:r.z.string()})),total_results:r.z.number(),query_metadata:r.z.object({query:r.z.string(),collection:r.z.string(),processing_time:r.z.number()})}),r.z.object({success:r.z.literal(!1),error:r.z.string(),details:r.z.string().optional()})]),m=r.z.object({url:r.z.string().url("Please enter a valid URL"),extract_images:r.z.boolean().optional(),extract_text:r.z.boolean().optional(),max_images:r.z.number().optional(),image_min_size:r.z.number().optional(),timeout:r.z.number().optional()}),d=r.z.union([r.z.object({success:r.z.literal(!0),data:r.z.object({url:r.z.string(),title:r.z.string().optional(),description:r.z.string().optional(),images:r.z.array(r.z.object({url:r.z.string(),alt:r.z.string().optional(),width:r.z.number().optional(),height:r.z.number().optional()})),text_content:r.z.string().optional(),metadata:r.z.record(r.z.string(),r.z.any())}),processing_time:r.z.number()}),r.z.object({success:r.z.literal(!1),error:r.z.string(),details:r.z.string().optional()})]),g=r.z.object({image_url:r.z.string().url("Please enter a valid image URL"),language:r.z.string().optional(),output_format:r.z.string().optional(),preprocessing:r.z.object({enhance_contrast:r.z.boolean().optional(),denoise:r.z.boolean().optional(),deskew:r.z.boolean().optional()}).optional()}),p=r.z.union([r.z.object({success:r.z.literal(!0),text:r.z.string(),confidence:r.z.number().min(0).max(100),language:r.z.string(),processing_time:r.z.number(),metadata:r.z.object({image_dimensions:r.z.object({width:r.z.number(),height:r.z.number()}),preprocessing_applied:r.z.array(r.z.string())})}),r.z.object({success:r.z.literal(!1),error:r.z.string(),details:r.z.string().optional()})]),h=r.z.object({image_url:r.z.string().url("Please enter a valid image URL"),output_format:r.z.string().optional(),resolution:r.z.number().optional(),enhance_quality:r.z.boolean().optional()}),f=r.z.union([r.z.object({success:r.z.literal(!0),maps:r.z.object({diffuse:r.z.string().url(),normal:r.z.string().url(),roughness:r.z.string().url(),metallic:r.z.string().url(),height:r.z.string().url().optional(),ambient_occlusion:r.z.string().url().optional()}),metadata:r.z.object({resolution:r.z.number(),format:r.z.string(),processing_time:r.z.number()})}),r.z.object({success:r.z.literal(!1),error:r.z.string(),details:r.z.string().optional()})]),b={name:"supabase",type:"supabase",baseUrl:"https://bgbavxtjlbvgplozizxu.supabase.co",projectUrl:"https://bgbavxtjlbvgplozizxu.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnYmF2eHRqbGJ2Z3Bsb3ppenh1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MDYwMzEsImV4cCI6MjA2NzQ4MjAzMX0.xswCBesG3eoYjKY5VNkUNhxc0tG6Ju2IzGI0Yd-DWMg",timeout:6e4,retryAttempts:3,rateLimit:{requestsPerMinute:100,burstLimit:20},environment:"development",functions:{"crewai-3d-generation":{inputSchema:s,outputSchema:l,timeout:3e5},"enhanced-rag-search":{inputSchema:c,outputSchema:u,timeout:3e4},"material-scraper":{inputSchema:m,outputSchema:d,timeout:6e4},"ocr-processing":{inputSchema:g,outputSchema:p,timeout:45e3},"svbrdf-extractor":{inputSchema:h,outputSchema:f,timeout:12e4},"nerf-processor":{inputSchema:r.z.object({images:r.z.array(r.z.string().url()).min(1,"At least 1 image required"),output_format:r.z.string().optional(),quality:r.z.string().optional()}),outputSchema:r.z.union([r.z.object({success:r.z.literal(!0),model_url:r.z.string().url(),preview_images:r.z.array(r.z.string().url()),metadata:r.z.object({vertex_count:r.z.number(),face_count:r.z.number(),processing_time:r.z.number()})}),o]),timeout:6e5},"spaceformer-analysis":{inputSchema:r.z.object({image_url:r.z.string().url("Please enter a valid image URL"),analysis_type:r.z.string().optional(),include_suggestions:r.z.boolean().optional()}),outputSchema:r.z.union([r.z.object({success:r.z.literal(!0),analysis:r.z.object({layout:r.z.object({room_type:r.z.string(),dimensions:r.z.object({width:r.z.number(),height:r.z.number(),depth:r.z.number()}).optional(),features:r.z.array(r.z.string())}),furniture:r.z.array(r.z.object({type:r.z.string(),position:r.z.object({x:r.z.number(),y:r.z.number()}),confidence:r.z.number()})),style:r.z.object({primary_style:r.z.string(),color_palette:r.z.array(r.z.string()),materials:r.z.array(r.z.string())}),suggestions:r.z.array(r.z.string()).optional()})}),o]),timeout:9e4}}};class z{static getFunctionConfig(e){return b.functions[e]||null}static validateFunctionInput(e,t){let i=this.getFunctionConfig(e);if(!i)return{success:!1,error:`Function ${e} not found`};try{let e=i.inputSchema.parse(t);return{success:!0,data:e}}catch(e){if(e instanceof r.z.ZodError)return{success:!1,error:`Validation error: ${e.issues.map(e=>`${e.path.join(".")}: ${e.message}`).join(", ")}`};return{success:!1,error:"Unknown validation error"}}}static getFunctionTimeout(e){let t=this.getFunctionConfig(e);return t?.timeout||b.timeout}static getAvailableFunctions(){return Object.keys(b.functions)}static buildFunctionUrl(e){let t=b.projectUrl.replace(/\/$/,"");return`${t}/functions/v1/${e}`}static getAuthHeaders(e=!1){let t=e?b.serviceRoleKey:b.anonKey;return{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}}let y=b;n()}catch(e){n(e)}})},9870:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{L:()=>d});var r=i(2048),a=i(5315),o=i(9926),s=i(5132),l=i(5535),c=i(1709),u=e([o,s]);[o,s]=u.then?(await u)():u;class m{constructor(){this.currentConfig=null,this.watchers=[]}static getInstance(){return m.instance||(m.instance=new m),m.instance}detectEnvironment(){switch("production".toLowerCase()){case"production":return"production";case"staging":return"staging";default:return"development"}}loadEnvironmentVariables(){try{let e=a.join(process.cwd(),".env");return r.existsSync(e)&&r.readFileSync(e,"utf-8").split("\n").forEach(e=>{let t=e.trim();if(t&&!t.startsWith("#")){let[e,...i]=t.split("=");if(e&&i.length>0){let t=i.join("=").replace(/^["']|["']$/g,"");process.env[e.trim()]=t}}}),s.Bs.parse(process.env)}catch(e){return console.warn("Environment variable validation failed:",e),process.env}}applyEnvironmentOverrides(e,t){let i={...e};return t.LOG_LEVEL&&(i.logLevel=t.LOG_LEVEL),t.DEBUG&&(i.debug="true"===t.DEBUG.toLowerCase()),t.CHUNK_SIZE&&(i.services.documentChunking.chunkSize=parseInt(t.CHUNK_SIZE,10)),t.EMBEDDING_BATCH_SIZE&&(i.services.embeddingGeneration.batchSize=parseInt(t.EMBEDDING_BATCH_SIZE,10)),t.MAX_CONCURRENCY&&(i.services.batchProcessing.maxConcurrency=parseInt(t.MAX_CONCURRENCY,10)),t.CACHE_TTL&&(i.performance.caching.ttl=parseInt(t.CACHE_TTL,10)),t.RATE_LIMIT_RPM&&(i.performance.rateLimit.requestsPerMinute=parseInt(t.RATE_LIMIT_RPM,10)),t.STORAGE_PROVIDER&&(i.externalDependencies.storage.provider=t.STORAGE_PROVIDER),t.AWS_S3_BUCKET&&(i.externalDependencies.storage.bucket=t.AWS_S3_BUCKET),t.AWS_REGION&&(i.externalDependencies.storage.region=t.AWS_REGION),i}loadBaseConfiguration(e){switch(e){case"production":return{...c.l};case"staging":return{...c.l,environment:"staging",debug:!0,logLevel:"info",performance:{...c.l.performance,rateLimit:{...c.l.performance.rateLimit,requestsPerMinute:1e3}}};default:return{...l.X}}}validate(e){try{return s.Z.parse(e),{isValid:!0,errors:[],warnings:[]}}catch(e){if(e instanceof o.z.ZodError){let t=e.issues.map(e=>`${e.path.join(".")}: ${e.message}`);return{isValid:!1,errors:t,warnings:[]}}return{isValid:!1,errors:[e instanceof Error?e.message:"Unknown validation error"],warnings:[]}}}async create(e){try{let t=e||this.detectEnvironment(),i=this.loadEnvironmentVariables(),n=this.loadBaseConfiguration(t);n=this.applyEnvironmentOverrides(n,i);let r=this.validate(n);if(!r.isValid)throw Error(`Configuration validation failed: ${r.errors.join(", ")}`);return r.warnings.length>0&&console.warn("Configuration warnings:",r.warnings),this.currentConfig=n,n.hotReload.enabled&&this.setupHotReload(n),console.log(`Configuration loaded successfully for environment: ${t}`),n}catch(e){throw console.error("Failed to create configuration:",e),e}}setupHotReload(e){if(this.watchers.forEach(e=>e.close()),this.watchers=[],!e.hotReload.enabled||0===e.hotReload.watchPaths.length)return;let t=null,i=()=>{t&&clearTimeout(t),t=setTimeout(async()=>{try{console.log("Configuration files changed, reloading..."),await this.reload(),console.log("Configuration reloaded successfully")}catch(e){console.error("Failed to reload configuration:",e)}},e.hotReload.debounceMs)};e.hotReload.watchPaths.forEach(e=>{try{let t=a.resolve(e);if(r.existsSync(t)){let n=r.watch(t,{recursive:!0},(e,t)=>{t&&(t.endsWith(".ts")||t.endsWith(".json")||t.endsWith(".env"))&&(console.log(`Configuration file changed: ${t}`),i())});this.watchers.push(n),console.log(`Watching for configuration changes: ${e}`)}}catch(t){console.warn(`Failed to watch path ${e}:`,t)}})}async reload(){if(!this.currentConfig)throw Error("No configuration to reload");let e=this.currentConfig.environment;await this.create(e)}getCurrentConfig(){return this.currentConfig}getConfigSummary(){return this.currentConfig?{environment:this.currentConfig.environment,version:this.currentConfig.version,debug:this.currentConfig.debug,logLevel:this.currentConfig.logLevel,services:Object.keys(this.currentConfig.services),hotReloadEnabled:this.currentConfig.hotReload.enabled,cachingEnabled:this.currentConfig.performance.caching.enabled,rateLimitEnabled:this.currentConfig.performance.rateLimit.enabled,monitoringEnabled:this.currentConfig.performance.monitoring.enabled}:{status:"No configuration loaded"}}cleanup(){this.watchers.forEach(e=>e.close()),this.watchers=[]}}let d=m.getInstance();n()}catch(e){n(e)}})},5535:(e,t,i)=>{i.d(t,{X:()=>n});let n={environment:"development",version:"1.0.0-dev",debug:!0,logLevel:"debug",services:{documentChunking:{chunkSize:1e3,chunkOverlap:200,maxChunks:100,preserveFormatting:!0,splitStrategy:"paragraph"},embeddingGeneration:{provider:"openai",model:"text-embedding-ada-002",dimensions:1536,batchSize:5,timeout:3e4,retryAttempts:3},mivaaToRagTransformer:{transformationRules:["basic-cleanup","metadata-extraction"],outputFormat:"json",validateOutput:!0,preserveMetadata:!0},validationIntegration:{enableValidation:!0,validationRules:["schema-validation","content-validation"],strictMode:!1,errorHandling:"log"},batchProcessing:{batchSize:10,maxConcurrency:3,queueTimeout:6e4,retryPolicy:{maxRetries:3,backoffMultiplier:2,initialDelay:1e3}}},performance:{caching:{enabled:!0,ttl:3e5,maxSize:100,strategy:"lru"},rateLimit:{enabled:!1,requestsPerMinute:1e3,burstLimit:100},monitoring:{enabled:!0,metricsInterval:3e4,alertThresholds:{errorRate:.1,responseTime:5e3,memoryUsage:.8}}},externalDependencies:{apis:{timeout:3e4,retryAttempts:3,circuitBreaker:{enabled:!1,failureThreshold:5,resetTimeout:6e4}},databases:{connectionPool:{min:2,max:10,acquireTimeout:3e4,idleTimeout:3e5},queryTimeout:3e4},storage:{provider:"local",encryption:!1}},hotReload:{enabled:!0,watchPaths:["src/config/**/*.ts","src/config/**/*.json",".env.development"],debounceMs:1e3}}},1709:(e,t,i)=>{i.d(t,{l:()=>n});let n={environment:"production",version:"1.0.0",debug:!1,logLevel:"warn",services:{documentChunking:{chunkSize:2e3,chunkOverlap:100,maxChunks:500,preserveFormatting:!0,splitStrategy:"sentence"},embeddingGeneration:{provider:"openai",model:"text-embedding-ada-002",dimensions:1536,batchSize:20,timeout:6e4,retryAttempts:5},mivaaToRagTransformer:{transformationRules:["basic-cleanup","metadata-extraction","content-optimization","security-sanitization"],outputFormat:"json",validateOutput:!0,preserveMetadata:!0},validationIntegration:{enableValidation:!0,validationRules:["schema-validation","content-validation","security-validation","performance-validation"],strictMode:!0,errorHandling:"throw"},batchProcessing:{batchSize:50,maxConcurrency:10,queueTimeout:3e5,retryPolicy:{maxRetries:5,backoffMultiplier:2,initialDelay:2e3}}},performance:{caching:{enabled:!0,ttl:36e5,maxSize:1e3,strategy:"lru"},rateLimit:{enabled:!0,requestsPerMinute:500,burstLimit:50},monitoring:{enabled:!0,metricsInterval:6e4,alertThresholds:{errorRate:.05,responseTime:2e3,memoryUsage:.7}}},externalDependencies:{apis:{timeout:6e4,retryAttempts:5,circuitBreaker:{enabled:!0,failureThreshold:10,resetTimeout:3e5}},databases:{connectionPool:{min:5,max:50,acquireTimeout:6e4,idleTimeout:6e5},queryTimeout:6e4},storage:{provider:"s3",bucket:process.env.AWS_S3_BUCKET||"default-bucket",region:process.env.AWS_REGION||"us-east-1",encryption:!0}},hotReload:{enabled:!1,watchPaths:[],debounceMs:100}}},4218:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{e9:()=>p});var r=i(6661),a=i(708),o=i(4202),s=i(8357),l=i(9870),c=i(5132),u=e([r,a,o,s,l,c]);[r,a,o,s,l,c]=u.then?(await u)():u;let d=null,g=async()=>{try{return d=await l.L.create(),m(),console.log("✅ Complete configuration system initialized successfully"),console.log("\uD83D\uDCCA Centralized config summary:",l.L.getConfigSummary()),console.log("\uD83D\uDD0C API config summary:",p.getConfigSummary()),d}catch(e){throw console.error("❌ Failed to initialize configuration system:",e),e}};function m(){r.YW.registerApi(a.ZP),r.YW.registerApi(o.ZP),r.YW.registerApi(s.u)}class p{static getApiConfig(e){return r.YW.getApiConfig(e)}static getApiConfigByType(e){let t=r.YW.getApiConfigByType(e);if(!t)return null;{let i=this.validateConfigurationFields(t);i.isValid||console.warn(`Configuration for ${e} is missing required fields: ${i.missingFields.join(", ")} - will be provided at runtime`)}return t}static getApisByType(e){return r.YW.getConfigsByType(e)}static validateEnvironment(){let e=[];return r.YW.getAllConfigs().forEach(t=>{"replicate"!==t.type||t.apiKey||e.push("REPLICATE_API_TOKEN"),"supabase"!==t.type||(t.projectUrl||e.push("NEXT_PUBLIC_SUPABASE_URL"),t.anonKey||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY")),"huggingface"!==t.type||t.apiKey||e.push("HUGGINGFACE_API_TOKEN")}),{valid:0===e.length,missing:Array.from(new Set(e))}}static getConfigSummary(){let e=r.YW.getAllConfigs(),t={};return e.forEach(e=>{t[e.type]=(t[e.type]||0)+1}),{totalConfigs:e.length,configsByType:t,environment:r.YW.getEnvironment(),validation:this.validateEnvironment()}}static validateConfigurationFields(e){let t=[],i=[];switch(e.name||(t.push("Missing configuration name"),i.push("name")),e.type||(t.push("Missing configuration type"),i.push("type")),e.type){case"replicate":e.apiKey||(t.push("Missing Replicate API key (server-side) - will be provided at runtime"),i.push("apiKey"));break;case"supabase":e.projectUrl||(t.push("Missing Supabase project URL - will be provided at runtime"),i.push("projectUrl")),e.anonKey||(t.push("Missing Supabase anonymous key - will be provided at runtime"),i.push("anonKey"));break;case"huggingface":e.apiKey||(t.push("Missing HuggingFace API key (server-side) - will be provided at runtime"),i.push("apiKey"))}return{isValid:0===t.length,errors:t,missingFields:i}}static getSafeApiConfigByType(e){try{return this.getApiConfigByType(e)}catch{return null}}static initialize(){m(),this.validateEnvironment()}}"true"!==process.env.DISABLE_AUTO_INIT&&(p.initialize(),g().catch(e=>{console.error("Failed to auto-initialize centralized configuration:",e),console.log("Legacy API configuration system is still available")})),n()}catch(e){n(e)}})},5132:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{Bs:()=>z,Z:()=>b});var r=i(9926),a=e([r]);let o=(r=(a.then?(await a)():a)[0]).z.enum(["development","staging","production"]),s=r.z.object({environment:o,version:r.z.string().min(1),debug:r.z.boolean(),logLevel:r.z.enum(["error","warn","info","debug"])}),l=r.z.object({chunkSize:r.z.number().min(100).max(1e4),chunkOverlap:r.z.number().min(0).max(1e3),maxChunks:r.z.number().min(1).max(1e3),preserveFormatting:r.z.boolean(),splitStrategy:r.z.enum(["sentence","paragraph","token"])}),c=r.z.object({provider:r.z.enum(["openai","huggingface","local"]),model:r.z.string().min(1),dimensions:r.z.number().min(1).max(4096),batchSize:r.z.number().min(1).max(100),timeout:r.z.number().min(1e3).max(3e5),retryAttempts:r.z.number().min(0).max(10)}),u=r.z.object({transformationRules:r.z.array(r.z.string()),outputFormat:r.z.enum(["json","markdown","xml"]),validateOutput:r.z.boolean(),preserveMetadata:r.z.boolean()}),m=r.z.object({enableValidation:r.z.boolean(),validationRules:r.z.array(r.z.string()),strictMode:r.z.boolean(),errorHandling:r.z.enum(["throw","log","ignore"])}),d=r.z.object({batchSize:r.z.number().min(1).max(1e3),maxConcurrency:r.z.number().min(1).max(100),queueTimeout:r.z.number().min(1e3).max(36e5),retryPolicy:r.z.object({maxRetries:r.z.number().min(0).max(10),backoffMultiplier:r.z.number().min(1).max(10),initialDelay:r.z.number().min(100).max(6e4)})}),g=r.z.object({caching:r.z.object({enabled:r.z.boolean(),ttl:r.z.number().min(1e3).max(864e5),maxSize:r.z.number().min(1).max(1e4),strategy:r.z.enum(["lru","fifo","lfu"])}),rateLimit:r.z.object({enabled:r.z.boolean(),requestsPerMinute:r.z.number().min(1).max(1e4),burstLimit:r.z.number().min(1).max(1e3)}),monitoring:r.z.object({enabled:r.z.boolean(),metricsInterval:r.z.number().min(1e3).max(3e5),alertThresholds:r.z.object({errorRate:r.z.number().min(0).max(1),responseTime:r.z.number().min(1).max(6e4),memoryUsage:r.z.number().min(0).max(1)})})}),p=r.z.object({apis:r.z.object({timeout:r.z.number().min(1e3).max(3e5),retryAttempts:r.z.number().min(0).max(10),circuitBreaker:r.z.object({enabled:r.z.boolean(),failureThreshold:r.z.number().min(1).max(100),resetTimeout:r.z.number().min(1e3).max(3e5)})}),databases:r.z.object({connectionPool:r.z.object({min:r.z.number().min(1).max(100),max:r.z.number().min(1).max(1e3),acquireTimeout:r.z.number().min(1e3).max(6e4),idleTimeout:r.z.number().min(1e3).max(36e5)}),queryTimeout:r.z.number().min(1e3).max(3e5)}),storage:r.z.object({provider:r.z.enum(["local","s3","gcs","azure"]),bucket:r.z.string().optional(),region:r.z.string().optional(),encryption:r.z.boolean()})}),h=r.z.object({documentChunking:l,embeddingGeneration:c,mivaaToRagTransformer:u,validationIntegration:m,batchProcessing:d}),f=r.z.object({enabled:r.z.boolean(),watchPaths:r.z.array(r.z.string()),debounceMs:r.z.number().min(100).max(1e4)}),b=s.extend({services:h,performance:g,externalDependencies:p,hotReload:f});r.z.object({isValid:r.z.boolean(),errors:r.z.array(r.z.string()),warnings:r.z.array(r.z.string())});let z=r.z.object({NODE_ENV:r.z.string().default("development"),LOG_LEVEL:r.z.string().default("info"),DEBUG:r.z.string().default("false"),OPENAI_API_KEY:r.z.string().optional(),HUGGINGFACE_API_KEY:r.z.string().optional(),DATABASE_URL:r.z.string().optional(),REDIS_URL:r.z.string().optional(),STORAGE_PROVIDER:r.z.string().default("local"),AWS_REGION:r.z.string().optional(),AWS_S3_BUCKET:r.z.string().optional(),CACHE_TTL:r.z.string().default("3600000"),RATE_LIMIT_RPM:r.z.string().default("1000"),CHUNK_SIZE:r.z.string().default("1000"),EMBEDDING_BATCH_SIZE:r.z.string().default("10"),MAX_CONCURRENCY:r.z.string().default("5")});n()}catch(e){n(e)}})},8384:(e,t,i)=>{i.d(t,{e:()=>n});class n{static{this.instances=new Map}constructor(){}static getInstance(){let e=this.name;if(!n.instances.has(e)){let t=Reflect.construct(this,[]);n.instances.set(e,t)}return n.instances.get(e)}static resetInstance(e){e?n.instances.delete(e):n.instances.clear()}static hasInstance(e){return n.instances.has(e)}static getActiveInstances(){return Array.from(n.instances.keys())}destroy(){this.cleanup();let e=this.constructor.name;n.instances.delete(e)}}},2549:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{e:()=>u});var r=i(6661),a=i(116),o=i(9476),s=i(7439),l=e([r,a,o,s]);[r,a,o,s]=l.then?(await l)():l;class c{constructor(){this.clients=new Map,this.initializeClients()}static getInstance(){return c.instance||(c.instance=new c),c.instance}initializeClients(){let e=r.GW.getInstance(),t=e.getApiConfigByType("replicate");t&&t.models&&Object.keys(t.models).forEach(e=>{t.models[e]&&this.registerClient("replicate",e,new a.GK(e))});let i=e.getApiConfigByType("huggingface");i&&i.models&&Object.keys(i.models).forEach(e=>{i.models[e]&&this.registerClient("huggingface",e,new o.l(e))});let n=e.getApiConfigByType("supabase");n&&n.functions&&Object.keys(n.functions).forEach(e=>{if(n.functions[e]){let t=n.serviceRoleKey||n.anonKey;this.registerClient("supabase",e,new s.j(t,e))}})}registerClient(e,t,i){let n=`${e}:${t}`;this.clients.set(n,i)}getClient(e,t){let i=`${e}:${t}`;return this.clients.get(i)||(console.warn(`No client registered for ${e}:${t}`),null)}getAvailableModels(e){let t=r.GW.getInstance();switch(e){case"replicate":let i=t.getApiConfigByType("replicate");return i?Object.keys(i.models):[];case"huggingface":let n=t.getApiConfigByType("huggingface");return n?Object.keys(n.models):[];case"supabase":let a=t.getApiConfigByType("supabase");return a?Object.keys(a.functions):[];default:return[]}}getModelConfig(e,t){let i=r.GW.getInstance();switch(e){case"replicate":let n=i.getApiConfigByType("replicate");return n?.models[t]||null;case"huggingface":let a=i.getApiConfigByType("huggingface");return a?.models[t]||null;case"supabase":let o=i.getApiConfigByType("supabase");return o?.functions[t]||null;default:return null}}validateParameters(e,t,i){let n=this.getModelConfig(e,t);if(!n)return!1;try{if(n.inputSchema)return n.inputSchema.parse(i),!0;return null!=i}catch(i){return console.warn(`Parameter validation failed for ${e}:${t}:`,i),!1}}async executeApiCall(e,t,i){let n=this.getClient(e,t);if(!n)return{success:!1,error:{code:"CLIENT_NOT_FOUND",message:`No client registered for ${e}:${t}`,details:{apiType:e,modelId:t},retryable:!1},metadata:{apiType:e,modelId:t,timestamp:new Date().toISOString(),requestId:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}};try{if(!this.validateParameters(e,t,i))return{success:!1,error:{code:"INVALID_PARAMETERS",message:"Parameter validation failed",details:{apiType:e,modelId:t,params:i},retryable:!1},metadata:{apiType:e,modelId:t,timestamp:new Date().toISOString(),requestId:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}};let r=n.validateParams(i);return await n.execute(r)}catch(i){return{success:!1,error:{code:"EXECUTION_ERROR",message:i instanceof Error?i.message:"Unknown error occurred",details:{apiType:e,modelId:t,originalError:i},retryable:!0},metadata:{apiType:e,modelId:t,timestamp:new Date().toISOString(),requestId:`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}}}clearClients(){this.clients.clear()}refreshClients(){this.clearClients(),this.initializeClients()}getRegisteredClients(){return Array.from(this.clients.keys())}}let u=c.getInstance();n()}catch(e){n(e)}})},8932:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{n:()=>o});var r=i(2549),a=e([r]);r=(a.then?(await a)():a)[0];class o{constructor(){}static getInstance(){return o.instance||(o.instance=new o),o.instance}async generateImage(e,t){let i=this.getApiTypeFromModelId(e);return await r.e.executeApiCall(i,e,t)}async transformImage(e,t){let i=this.getApiTypeFromModelId(e);return await r.e.executeApiCall(i,e,t)}async generateText(e,t){let i=this.getApiTypeFromModelId(e);return await r.e.executeApiCall(i,e,t)}async executeSupabaseFunction(e,t){return await r.e.executeApiCall("supabase",e,{functionName:e,data:t})}getAvailableModels(e){return r.e.getAvailableModels(e)}getAllAvailableModels(){return{replicate:this.getAvailableModels("replicate"),huggingface:this.getAvailableModels("huggingface"),supabase:this.getAvailableModels("supabase")}}getModelConfig(e,t){return r.e.getModelConfig(e,t)}validateParameters(e,t,i){return r.e.validateParameters(e,t,i)}getRegisteredClients(){return r.e.getRegisteredClients()}refreshClients(){r.e.refreshClients()}getApiTypeFromModelId(e){let t=this.getAllAvailableModels();for(let[i,n]of Object.entries(t))if(n.includes(e))return i;return e.includes("/")?"replicate":e.startsWith("hf-")?"huggingface":"supabase"}}o.getInstance(),n()}catch(e){n(e)}})},9476:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{l:()=>s});var r=i(8357),a=i(9136),o=e([r,a]);[r,a]=o.then?(await o)():o;class s extends a.J8{constructor(e){super("huggingface",e),this.huggingFaceConfig=r.u,this.currentModelId=e||void 0}async execute(e){let t=this.validateParams(e);return this.makeApiCall(t)}async healthCheck(){try{return(await fetch(this.huggingFaceConfig.baseUrl,{method:"HEAD",signal:AbortSignal.timeout(5e3)})).ok}catch{return!1}}validateParams(e){if(!this.currentModelId)throw Error("Model ID is required for Hugging Face API validation");let t=this.huggingFaceConfig.models[this.currentModelId];if(!t)throw Error(`Model ${this.currentModelId} not found in Hugging Face configuration`);return t.inputSchema.parse(e)}async makeApiCall(e){if(!this.currentModelId)throw Error("Model ID is required for Hugging Face API calls");let t=this.huggingFaceConfig.models[this.currentModelId];if(!t)throw Error(`Model ${this.currentModelId} not found in configuration`);let i=t.inputSchema.parse(e),n=`/models/${this.currentModelId}`,r=`${this.huggingFaceConfig.baseUrl}${n}`,o={"Content-Type":"application/json"};this.huggingFaceConfig.apiKey&&(o.Authorization=`Bearer ${this.huggingFaceConfig.apiKey}`);let s=await (0,a.JN)(async()=>{let e=await fetch(r,{method:"POST",headers:o,body:JSON.stringify(i),signal:AbortSignal.timeout(this.huggingFaceConfig.timeout||6e4)});if(!e.ok){let t=`HTTP ${e.status}: ${e.statusText}`;try{let i=await e.json();i.error&&(t=i.error)}catch{}switch(e.status){case 401:throw Error(`Hugging Face API authentication failed: ${t}`);case 429:throw Error(`Hugging Face API rate limit exceeded: ${t}`);case 503:throw Error(`Hugging Face model is loading, please retry: ${t}`);default:throw Error(`Hugging Face API error: ${t}`)}}let t=e.headers.get("content-type");if(t?.includes("application/json"))return await e.json();if(!t?.includes("image/"))return{output:[await e.text()]};{let t=await e.blob();return{output:[await this.blobToBase64(t)]}}},{maxAttempts:this.huggingFaceConfig.retryAttempts||2,baseDelay:1e3,maxDelay:5e3}),l=t.outputSchema.parse(s);return{success:!0,data:l,metadata:{apiType:"huggingface",modelId:this.currentModelId,timestamp:new Date().toISOString(),requestId:`hf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}}async blobToBase64(e){return new Promise((t,i)=>{let n=new FileReader;n.onload=()=>{"string"==typeof n.result?t(n.result):i(Error("Failed to convert blob to base64"))},n.onerror=()=>i(Error("Failed to read blob")),n.readAsDataURL(e)})}getAvailableModels(){return Object.keys(this.huggingFaceConfig.models)}getModelConfig(e){return this.huggingFaceConfig.models[e]}isModelAvailable(e){let t=this.huggingFaceConfig.models[e];return t?.status==="working"}}n()}catch(e){n(e)}})},116:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{GK:()=>l});var r=i(9926),a=i(4218),o=i(9136),s=e([r,a,o]);[r,a,o]=s.then?(await s)():s;class l extends o.J8{constructor(e){super("replicate",e),this.baseUrl="https://api.replicate.com/v1";let t=a.e9.getApiConfig("replicate");if(!t)throw Error("Replicate configuration not found");this.replicateConfig=t}async execute(e){let t=this.requestIdGenerator(),i=Date.now();try{let n=this.validateParams(e),r=this.getModelConfig();if(!r)throw Error(`Model configuration not found: ${this.modelId}`);let a=await (0,o.JN)(()=>this.makeReplicateRequest(r.version,n),{maxAttempts:this.replicateConfig.retryAttempts||3,retryableErrors:["RATE_LIMIT","NETWORK_ERROR","SERVER_ERROR"]});return this.createResponse(a,i,t)}catch(n){let e=this.handleError(n);return this.createErrorResponse(e,i,t)}}validateParams(e){if(!this.modelId)throw Error("Model ID is required for parameter validation");let t=this.getModelConfig();if(!t)throw Error(`Model configuration not found: ${this.modelId}`);try{return t.inputSchema.parse(e)}catch(e){if(e instanceof r.z.ZodError){let t=e.issues.map(e=>`${e.path.join(".")}: ${e.message}`).join(", ");throw Error(`Parameter validation failed: ${t}`)}throw e}}async healthCheck(){try{return(await fetch(`${this.baseUrl}/models`,{method:"GET",headers:this.getHeaders()})).ok}catch{return!1}}enhanceError(e,t){if(t instanceof Response)switch(e.apiSpecific={statusCode:t.status,headers:Object.fromEntries(t.headers.entries())},t.status){case 401:e.code="AUTHENTICATION_ERROR",e.message="Invalid Replicate API token",e.retryable=!1;break;case 402:e.code="BILLING_ERROR",e.message="Insufficient credits or billing issue",e.retryable=!1;break;case 429:e.code="RATE_LIMIT",e.message="Rate limit exceeded",e.retryable=!0;break;case 422:e.code="VALIDATION_ERROR",e.message="Invalid input parameters",e.retryable=!1;break;case 500:case 502:case 503:case 504:e.code="SERVER_ERROR",e.message="Replicate server error",e.retryable=!0}return t instanceof TypeError&&t.message.includes("fetch")&&(e.code="NETWORK_ERROR",e.message="Network connection failed",e.retryable=!0),e}getModelConfig(){return this.modelId?this.replicateConfig.models[this.modelId]:null}getHeaders(){let e={"Content-Type":"application/json"};return this.replicateConfig.apiKey&&(e.Authorization=`Token ${this.replicateConfig.apiKey}`),e}async makeReplicateRequest(e,t){let i=`${this.baseUrl}/predictions`,n=await fetch(i,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({version:e,input:t})});if(!n.ok){let e=null;try{e=await n.json()}catch{}let t=Error(e?.detail||n.statusText);throw t.response=n,t.data=e,t}let r=await n.json();return"starting"===r.status||"processing"===r.status?this.pollForCompletion(r):r}async pollForCompletion(e){for(let t=0;t<60;t++){await new Promise(e=>setTimeout(e,5e3));let t=await fetch(e.urls.get,{headers:this.getHeaders()});if(!t.ok)throw Error(`Failed to poll prediction status: ${t.statusText}`);let i=await t.json();if("succeeded"===i.status||"failed"===i.status||"canceled"===i.status)return i}throw Error("Prediction timed out")}}n()}catch(e){n(e)}})},9136:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{J8:()=>s,JN:()=>o});var r=i(4218),a=e([r]);r=(a.then?(await a)():a)[0];class s{constructor(e,t){this.apiType=e,this.modelId=t;let i=r.e9.getApiConfigByType(e);if(!i)throw Error(`API configuration not found for type: ${e}`);this.config=i,this.requestIdGenerator=()=>`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleError(e){let t={code:"UNKNOWN_ERROR",message:"An unknown error occurred",retryable:!1,originalError:e};return e instanceof Error&&(t.message=e.message,t.code=e.name||"ERROR"),this.enhanceError(t,e)}enhanceError(e,t){return e}createResponse(e,t,i){return{success:!0,data:e,metadata:{apiType:this.apiType,modelId:this.modelId||void 0,timestamp:new Date().toISOString(),requestId:i,duration:Date.now()-t}}}createErrorResponse(e,t,i){return{success:!1,error:e,metadata:{apiType:this.apiType,modelId:this.modelId||void 0,timestamp:new Date().toISOString(),requestId:i,duration:Date.now()-t}}}}let l={maxAttempts:3,baseDelay:1e3,maxDelay:1e4,backoffMultiplier:2,retryableErrors:["NETWORK_ERROR","TIMEOUT","RATE_LIMIT","SERVER_ERROR"]};async function o(e,t={}){let i;let n={...l,...t};for(let t=1;t<=n.maxAttempts;t++)try{return await e()}catch(a){if(i=a,t===n.maxAttempts)break;let e=a instanceof Error?a.name:"UNKNOWN_ERROR";if(!n.retryableErrors.includes(e))break;let r=Math.min(n.baseDelay*Math.pow(n.backoffMultiplier,t-1),n.maxDelay);await new Promise(e=>setTimeout(e,r))}throw i}class c{static{this.clients=new Map}static registerClient(e,t){this.clients.set(e,t)}static getClient(e,t){let i=t?`${e}:${t}`:e;return this.clients.get(i)||null}static getAllClients(){return new Map(this.clients)}static clearClients(){this.clients.clear()}}n()}catch(e){n(e)}})},7439:(e,t,i)=>{i.a(e,async(e,n)=>{try{i.d(t,{j:()=>l});var r=i(9926),a=i(4202),o=i(9136),s=e([r,a,o]);[r,a,o]=s.then?(await s)():s;class l extends o.J8{constructor(e,t){super("supabase",t);let i=e.split("|");if(2===i.length?(this.supabaseUrl=i[0]||"",this.supabaseKey=i[1]||""):(this.supabaseUrl=process.env.NEXT_PUBLIC_SUPABASE_URL||a.SU.projectUrl,this.supabaseKey=e),!this.supabaseUrl||!this.supabaseKey)throw Error("Supabase URL and key are required")}validateParams(e){if(!e||"object"!=typeof e)throw Error("Parameters must be an object");if(!e.functionName||"string"!=typeof e.functionName)throw Error("Function name is required and must be a string");let t=a.HG.getFunctionConfig(e.functionName);if(!t)throw Error(`Function ${e.functionName} not found in Supabase configuration`);if(e.data)try{t.inputSchema.parse(e.data)}catch(e){if(e instanceof r.z.ZodError){let t=e.issues.filter(e=>e.message.includes("required")||e.message.includes("valid")).map(e=>e.message);if(t.length>0)throw Error(`Please check: ${t.join(", ")}`)}}return{functionName:e.functionName,data:e.data}}async execute(e){return this.makeRequest(e)}async healthCheck(){try{return(await fetch(`${this.supabaseUrl}/functions/v1/health`,{method:"GET",headers:{Authorization:`Bearer ${this.supabaseKey}`}})).ok}catch{return!1}}async makeRequest(e){this.validateParams(e);let t=a.HG.getFunctionConfig(e.functionName),i=a.SU.retryAttempts||3,n=t?.timeout||a.SU.timeout;return(0,o.JN)(async()=>{let t=a.HG.buildFunctionUrl(e.functionName),i=this.buildRequestOptions(e,n);console.log("=== REQUEST OPTIONS DEBUG ==="),console.log("URL:",t),console.log("Request body being sent:",i.body),console.log("Request headers:",i.headers),console.log("=== REQUEST OPTIONS DEBUG END ===");try{let n=await fetch(t,i),r=i.signal?._timeoutId;r&&clearTimeout(r),n.ok||await this.handleErrorResponse(n);let a=await n.json();return{success:!0,data:a,metadata:{apiType:"supabase",modelId:e.functionName,timestamp:new Date().toISOString(),requestId:`supabase-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,statusCode:n.status}}}catch(t){let e=i.signal?._timeoutId;throw e&&clearTimeout(e),t}},{maxAttempts:i})}buildRequestOptions(e,t){let i=a.HG.getAuthHeaders(!1),n=new AbortController,r=setTimeout(()=>n.abort(),t);n.signal._timeoutId=r;let o=e.data||{};return{method:"POST",headers:i,body:JSON.stringify(o),signal:n.signal}}async handleErrorResponse(e){let t=await e.text(),i=`Supabase Edge Function error: ${e.status} ${e.statusText}`;try{let e=JSON.parse(t);e.error&&(i+=` - ${e.error}`),e.details&&(i+=` (${e.details})`)}catch{t&&(i+=` - ${t}`)}throw 401===e.status?i+=" - Check your Supabase API key and permissions":403===e.status?i+=" - Insufficient permissions for this Edge Function":404===e.status?i+=" - Edge Function not found or not deployed":422===e.status?i+=" - Invalid request data or function validation failed":429===e.status?i+=" - Rate limit exceeded, please try again later":e.status>=500&&(i+=" - Supabase server error, please try again later"),Error(i)}}n()}catch(e){n(e)}})}};